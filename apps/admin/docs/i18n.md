# ğŸŒ Admin å¤šè¯­è¨€ç³»ç»Ÿ (Internationalization)

## æ¦‚è¿°

Jiffoo Mall Admin åå°ç®¡ç†ç³»ç»Ÿæ”¯æŒå®Œæ•´çš„å¤šè¯­è¨€åŠŸèƒ½ï¼Œè®©ç®¡ç†å‘˜å¯ä»¥åœ¨ä¸åŒè¯­è¨€ç¯å¢ƒä¸‹ä½¿ç”¨ç³»ç»Ÿã€‚

## æ”¯æŒçš„è¯­è¨€

- ğŸ‡¨ğŸ‡³ **ç®€ä½“ä¸­æ–‡** (zh-CN) - é»˜è®¤è¯­è¨€
- ğŸ‡ºğŸ‡¸ **è‹±è¯­** (en-US)
- ğŸ‡¯ğŸ‡µ **æ—¥è¯­** (ja-JP)
- ğŸ‡°ğŸ‡· **éŸ©è¯­** (ko-KR)
- ğŸ‡ªğŸ‡¸ **è¥¿ç­ç‰™è¯­** (es-ES)
- ğŸ‡«ğŸ‡· **æ³•è¯­** (fr-FR)

## åŠŸèƒ½ç‰¹æ€§

### âœ¨ æ ¸å¿ƒåŠŸèƒ½
- **å®æ—¶è¯­è¨€åˆ‡æ¢** - æ— éœ€åˆ·æ–°é¡µé¢å³å¯åˆ‡æ¢è¯­è¨€
- **æ™ºèƒ½ç¼“å­˜** - ç¿»è¯‘ç»“æœç¼“å­˜ï¼Œæå‡æ€§èƒ½
- **æµè§ˆå™¨æ£€æµ‹** - è‡ªåŠ¨æ£€æµ‹ç”¨æˆ·æµè§ˆå™¨è¯­è¨€åå¥½
- **æŒä¹…åŒ–å­˜å‚¨** - è¯­è¨€é€‰æ‹©ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨å’ŒCookie
- **åå¤‡è¯­è¨€** - ç¿»è¯‘ç¼ºå¤±æ—¶è‡ªåŠ¨ä½¿ç”¨åå¤‡è¯­è¨€

### ğŸ¨ UIç»„ä»¶
- **å¤šç§åˆ‡æ¢å™¨æ ·å¼** - é»˜è®¤ã€ç´§å‡‘ã€å›¾æ ‡æ¨¡å¼
- **è¯­è¨€è®¾ç½®é¡µé¢** - å®Œæ•´çš„è¯­è¨€é…ç½®ç•Œé¢
- **å®æ—¶é¢„è§ˆ** - åˆ‡æ¢å™¨æ ·å¼å®æ—¶é¢„è§ˆ

### ğŸ”§ å¼€å‘è€…åŠŸèƒ½
- **TypeScriptæ”¯æŒ** - å®Œæ•´çš„ç±»å‹å®šä¹‰
- **æ’å€¼æ”¯æŒ** - æ”¯æŒå˜é‡æ’å€¼ `{{variable}}`
- **æ ¼å¼åŒ–å‡½æ•°** - æ—¥æœŸã€æ•°å­—ã€è´§å¸æœ¬åœ°åŒ–æ ¼å¼
- **Hooké›†æˆ** - ç®€å•æ˜“ç”¨çš„React Hook

## å¿«é€Ÿå¼€å§‹

### 1. åŸºæœ¬ä½¿ç”¨

```tsx
import { useI18n } from '../lib/i18n';

function MyComponent() {
  const { t, language, setLanguage } = useI18n();

  return (
    <div>
      <h1>{t('nav.dashboard', 'Dashboard')}</h1>
      <p>{t('common.welcome', 'Welcome!')}</p>
    </div>
  );
}
```

### 2. æ·»åŠ è¯­è¨€åˆ‡æ¢å™¨

```tsx
import { LanguageSwitcher } from '../components/ui/language-switcher';

function Header() {
  return (
    <div>
      {/* é»˜è®¤æ ·å¼ */}
      <LanguageSwitcher />
      
      {/* ç´§å‡‘æ ·å¼ */}
      <LanguageSwitcher variant="compact" />
      
      {/* å›¾æ ‡æ¨¡å¼ */}
      <LanguageSwitcher variant="icon-only" />
    </div>
  );
}
```

### 3. å­—ç¬¦ä¸²æ’å€¼

```tsx
const { t } = useI18n();

// ç®€å•æ’å€¼
const message = t('welcome.message', 'Hello {{name}}!', { name: 'John' });

// å¤šå˜é‡æ’å€¼
const info = t('order.info', 'Order {{id}} for {{amount}}', {
  id: '12345',
  amount: '$99.99'
});
```

### 4. æ ¼å¼åŒ–å‡½æ•°

```tsx
import { formatDate, formatNumber, formatCurrency } from '../lib/i18n';

function OrderDetails() {
  const { language } = useI18n();
  
  return (
    <div>
      <p>æ—¥æœŸ: {formatDate(new Date(), language)}</p>
      <p>æ•°é‡: {formatNumber(1234.56, language)}</p>
      <p>ä»·æ ¼: {formatCurrency(99.99, 'CNY', language)}</p>
    </div>
  );
}
```

## ç¿»è¯‘é”®å‘½åè§„èŒƒ

### å‘½åç©ºé—´ç»“æ„
```
namespace.category.item
```

### ç¤ºä¾‹
```typescript
// å¯¼èˆªç›¸å…³
'nav.dashboard'     // ä»ªè¡¨æ¿
'nav.products'      // å•†å“ç®¡ç†
'nav.orders'        // è®¢å•ç®¡ç†

// é€šç”¨æ“ä½œ
'common.save'       // ä¿å­˜
'common.cancel'     // å–æ¶ˆ
'common.delete'     // åˆ é™¤

// å•†å“ç®¡ç†
'products.title'           // å•†å“ç®¡ç†
'products.add_product'     // æ·»åŠ å•†å“
'products.product_name'    // å•†å“åç§°

// è®¾ç½®ç›¸å…³
'settings.language'        // è¯­è¨€è®¾ç½®
'settings.general'         // å¸¸è§„è®¾ç½®
```

## æ·»åŠ æ–°ç¿»è¯‘

### 1. åœ¨ç¿»è¯‘æ–‡ä»¶ä¸­æ·»åŠ é”®å€¼å¯¹

ç¼–è¾‘ `apps/admin/lib/i18n.ts`:

```typescript
const translations: Record<SupportedLanguage, Record<string, string>> = {
  'zh-CN': {
    // æ·»åŠ ä¸­æ–‡ç¿»è¯‘
    'my.new.key': 'æˆ‘çš„æ–°ç¿»è¯‘',
  },
  'en-US': {
    // æ·»åŠ è‹±æ–‡ç¿»è¯‘
    'my.new.key': 'My New Translation',
  },
  // å…¶ä»–è¯­è¨€...
};
```

### 2. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨

```tsx
const { t } = useI18n();
const text = t('my.new.key', 'Default Text');
```

## æ·»åŠ æ–°è¯­è¨€

### 1. æ›´æ–°è¯­è¨€ç±»å‹å®šä¹‰

```typescript
export type SupportedLanguage = 
  | 'zh-CN' 
  | 'en-US' 
  | 'ja-JP' 
  | 'ko-KR' 
  | 'es-ES' 
  | 'fr-FR'
  | 'de-DE'; // æ·»åŠ å¾·è¯­
```

### 2. æ·»åŠ è¯­è¨€ä¿¡æ¯

```typescript
export const SUPPORTED_LANGUAGES: LanguageInfo[] = [
  // ç°æœ‰è¯­è¨€...
  { code: 'de-DE', name: 'German', nativeName: 'Deutsch', flag: 'ğŸ‡©ğŸ‡ª' },
];
```

### 3. æ·»åŠ ç¿»è¯‘æ•°æ®

```typescript
const translations = {
  // ç°æœ‰ç¿»è¯‘...
  'de-DE': {
    'nav.dashboard': 'Dashboard',
    'common.save': 'Speichern',
    // æ›´å¤šç¿»è¯‘...
  },
};
```

## API æ¥å£

### è¯­è¨€è®¾ç½® API

#### POST `/api/admin/language`
è®¾ç½®ç”¨æˆ·è¯­è¨€åå¥½

```json
{
  "language": "zh-CN"
}
```

#### GET `/api/admin/language`
è·å–è¯­è¨€è®¾ç½®ä¿¡æ¯

```json
{
  "savedLanguage": "zh-CN",
  "browserLanguage": "en-US",
  "supportedLanguages": ["zh-CN", "en-US", "ja-JP"],
  "defaultLanguage": "zh-CN"
}
```

#### PUT `/api/admin/language`
æ›´æ–°å®Œæ•´è¯­è¨€è®¾ç½®

```json
{
  "language": "zh-CN",
  "autoDetect": true,
  "fallbackLanguage": "en-US",
  "enabledLanguages": ["zh-CN", "en-US"],
  "rtlSupport": false,
  "dateLocalization": true,
  "numberLocalization": true
}
```

## æœ€ä½³å®è·µ

### 1. ç¿»è¯‘é”®ç®¡ç†
- ä½¿ç”¨æœ‰æ„ä¹‰çš„å‘½åç©ºé—´
- ä¿æŒé”®åç®€æ´æ˜äº†
- é¿å…è¿‡æ·±çš„åµŒå¥—å±‚çº§

### 2. é»˜è®¤å€¼
- å§‹ç»ˆæä¾›é»˜è®¤å€¼ä½œä¸ºåå¤‡
- é»˜è®¤å€¼åº”è¯¥æ˜¯è‹±æ–‡æˆ–å¼€å‘è¯­è¨€

### 3. æ€§èƒ½ä¼˜åŒ–
- åˆ©ç”¨ç¿»è¯‘ç¼“å­˜æœºåˆ¶
- é¿å…åœ¨æ¸²æŸ“å¾ªç¯ä¸­é‡å¤è°ƒç”¨ç¿»è¯‘å‡½æ•°

### 4. ç”¨æˆ·ä½“éªŒ
- æä¾›æ¸…æ™°çš„è¯­è¨€åˆ‡æ¢å…¥å£
- ä¿æŒè¯­è¨€é€‰æ‹©çš„æŒä¹…æ€§
- è€ƒè™‘RTLè¯­è¨€çš„å¸ƒå±€éœ€æ±‚

## æµ‹è¯•

è®¿é—® `/test-i18n` é¡µé¢å¯ä»¥æµ‹è¯•å¤šè¯­è¨€åŠŸèƒ½çš„å„ä¸ªæ–¹é¢ï¼š

- è¯­è¨€åˆ‡æ¢
- ç¿»è¯‘æ˜¾ç¤º
- æ ¼å¼åŒ–å‡½æ•°
- å­—ç¬¦ä¸²æ’å€¼
- ç»„ä»¶æ ·å¼

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ç¿»è¯‘ä¸æ˜¾ç¤º**
   - æ£€æŸ¥ç¿»è¯‘é”®æ˜¯å¦æ­£ç¡®
   - ç¡®è®¤ç¿»è¯‘æ•°æ®ä¸­æ˜¯å¦å­˜åœ¨è¯¥é”®
   - æ£€æŸ¥æ˜¯å¦æä¾›äº†é»˜è®¤å€¼

2. **è¯­è¨€åˆ‡æ¢ä¸ç”Ÿæ•ˆ**
   - æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯
   - ç¡®è®¤ç»„ä»¶æ˜¯å¦åœ¨I18nProvideråŒ…è£…å†…
   - æ£€æŸ¥æœ¬åœ°å­˜å‚¨å’ŒCookieè®¾ç½®

3. **æ ¼å¼åŒ–å¼‚å¸¸**
   - ç¡®è®¤è¯­è¨€ä»£ç æ ¼å¼æ­£ç¡®
   - æ£€æŸ¥Intl APIæµè§ˆå™¨æ”¯æŒæƒ…å†µ

### è°ƒè¯•æŠ€å·§

```tsx
// å¼€å¯è°ƒè¯•æ¨¡å¼
const { t, language } = useI18n();
console.log('Current language:', language);
console.log('Translation result:', t('my.key', 'default'));
```

## è´¡çŒ®æŒ‡å—

æ¬¢è¿ä¸ºå¤šè¯­è¨€ç³»ç»Ÿè´¡çŒ®ç¿»è¯‘æˆ–æ”¹è¿›ï¼š

1. Fork é¡¹ç›®
2. æ·»åŠ æˆ–ä¿®æ”¹ç¿»è¯‘
3. æµ‹è¯•åŠŸèƒ½
4. æäº¤ Pull Request

---

ğŸ“ **æ³¨æ„**: è¿™ä¸ªå¤šè¯­è¨€ç³»ç»Ÿæ˜¯ä¸º Jiffoo Mall Admin åå°ç®¡ç†ç³»ç»Ÿè®¾è®¡çš„ï¼Œå¦‚éœ€åœ¨å…¶ä»–é¡¹ç›®ä¸­ä½¿ç”¨ï¼Œè¯·æ ¹æ®å…·ä½“éœ€æ±‚è¿›è¡Œè°ƒæ•´ã€‚
